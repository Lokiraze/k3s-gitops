config:
  clientID: "oauth2-proxy"
  clientSecret: $OAUTH2_PROXY_SECRET
  cookieSecret: $OAUTH2_PROXY_COOKIE_SECRET
  configFile: |-
    provider = "oidc"
    provider_display_name = "Keycloak"
    oidc_issuer_url = "https://sso.$DOMAIN/auth/realms/home"
    email_domains = [ "*" ]
    scope = "openid profile email"
    cookie_domain = ".$DOMAIN"
    whitelist_domains = ".$DOMAIN"
    pass_authorization_header = true
    pass_access_token = true
    pass_user_headers = true
    set_authorization_header = true
    set_xauthrequest = true
    cookie_refresh = "1m"
    cookie_expire = "30m"
ingress:
  hosts: 
    - auth.$DOMAIN
  path: /
  tls:
  - hosts:
    - auth.$DOMAIN